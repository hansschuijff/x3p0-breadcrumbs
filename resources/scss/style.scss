////
/// Block stylesheet.
///
/// @author Justin Tadlock <justintadlock@gmail.com>
/// @link   https://github.com/x3p0-dev/x3p0-breadcrumbs
////

.wp-block-x3p0-breadcrumbs {
	box-sizing: border-box;

	// Styling the nested elements of the block wrapper.
	// `.wp-block-x3p0-breadcrumbs__trail` is the `<ul>` element.
	// `.wp-block-x3p0-breadcrumbs__crumb` is the `<li>` element.
	// `.wp-block-x3p0-breadcrumbs__crumb-content` is the `<a>`/`<span>` element.

	&__trail,
	&__crumb {
		list-style: none;
		border: none;
		background: transparent;
	}

	&__trail,
	&__crumb,
	&__crumb-content {
		// Set the gap via `settings.custom.x3p0Breadcrumbs.gap`.
		gap: var(
			--wp--custom--x-3-p-0-breadcrumbs--gap,
			0.5rem
		);
		box-sizing: border-box;
		display: flex;
		flex-wrap: wrap;
		align-items: center;
		margin: 0;
		padding: 0;
		text-indent: 0;
	}

	// This zeroes out any margin/padding from global padding in core.
	&.alignfull > ul.wp-block-x3p0-breadcrumbs__trail {
		margin: 0;
		padding: 0;
	}

	// Handles the separator element.
	&__crumb:where( :not( :first-child ) )::before {
		// Default `/` character.
		content: var( --breadcrumbs-sep, "\002F" );
		width: 1em;
		text-align: center;
	}

	&[class*=has-home-emoji-] &__crumb--home &__crumb-content {
		display: inline-block;
	}
	&[class*=has-home-emoji-] &__crumb--home &__crumb-label {
		margin-inline-start: var( --wp--custom--x-3-p-0-breadcrumbs--gap, 0.5rem );
	}

	&[class*=has-home-emoji-] &__crumb--home &__crumb-content::before {
		content: var( --breadcrumbs-home, üè† );
		width: 1em;
		text-align: center;
		display: inline-block;
	}

	// Home icon.
	&[class*=has-home-icon-] &__crumb--home &__crumb-content::before {
		// https://fonts.google.com/icons?icon.query=home&selected=Material+Icons+Outlined:home:&icon.set=Material+Icons
		mask: no-repeat 50% 50% var(
			--breadcrumbs-home,
			url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="%23000000"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 5.69l5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3z"/></svg>')
		);
	}

	// Icon-based separators.
	&[class*=has-sep-icon-] &__crumb:where( :not( :first-child ) )::before {
		// https://fonts.google.com/icons?selected=Material+Icons+Outlined:chevron_right:&icon.query=chevron&icon.style=Outlined&icon.set=Material+Icons
		mask: no-repeat 50% 50% var(
			--breadcrumbs-sep,
			url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="%23000000"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"/></svg>')
		);
	}

	// Icons.
	&[class*=has-home-icon-] &__crumb--home &__crumb-content::before,
	&[class*=has-sep-icon-] &__crumb:where( :not( :first-child ) )::before {
		content: '';
		mask-size: cover;
		background: currentColor;
		display: inline-block;
		width: max( 1em, 24px );
		height: max( 1em, 24px );
	}

	&.has-home-emoji-üè† { --breadcrumbs-home: "üè†"; }
	&.has-home-emoji-üè° { --breadcrumbs-home: "üè°"; }
	&.has-home-emoji-üõñ { --breadcrumbs-home: "üõñ"; }

	&.has-home-icon-home-fill {
		--breadcrumbs-home: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="%23000000"><path d="M0 0h24v24H0z" fill="none"/><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>');
	}

	&.has-home-icon-house-outline {
		--breadcrumbs-home: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="%23000000"><g><rect fill="none" height="24" width="24"/></g><g><g><path d="M19,9.3V4h-3v2.6L12,3L2,12h3v8h6v-6h2v6h6v-8h3L19,9.3z M17,18h-2v-6H9v6H7v-7.81l5-4.5l5,4.5V18z"/><path d="M10,10h4c0-1.1-0.9-2-2-2S10,8.9,10,10z"/></g></g></svg>');
	}

	&.has-home-icon-house-fill {
		--breadcrumbs-home: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="%23000000"><g><rect fill="none" height="24" width="24"/></g><g><path d="M19,9.3V4h-3v2.6L12,3L2,12h3v8h5v-6h4v6h5v-8h3L19,9.3z M10,10c0-1.1,0.9-2,2-2s2,0.9,2,2H10z"/></g></svg>');
	}

	&.has-home-icon-cottage-outline {
		--breadcrumbs-home: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="%23000000"><rect fill="none" height="24" width="24"/><path d="M12,3L6,7.58V6H4v3.11L1,11.4l1.21,1.59L4,11.62V21h16v-9.38l1.79,1.36L23,11.4L12,3z M18,19h-5v-4h-2v4H6v-8.9l6-4.58 l6,4.58V19z M10,1c0,1.66-1.34,3-3,3C6.45,4,6,4.45,6,5H4c0-1.66,1.34-3,3-3c0.55,0,1-0.45,1-1H10z"/></svg>');
	}

	&.has-home-icon-cottage-fill {
		--breadcrumbs-home: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="%23000000"><rect fill="none" height="24" width="24"/><path d="M12,3L6,7.58V6H4v3.11L1,11.4l1.21,1.59L4,11.62V21h7v-6h2v6h7v-9.38l1.79,1.36L23,11.4L12,3z M10,1c0,1.66-1.34,3-3,3 C6.45,4,6,4.45,6,5H4c0-1.66,1.34-3,3-3c0.55,0,1-0.45,1-1H10z"/></svg>');
	}

	// arrow right
	// https://fonts.google.com/icons?icon.query=arrow&selected=Material+Icons+Outlined:arrow_right_alt:&icon.set=Material+Icons
	&.has-sep-icon-arrow {
		--breadcrumbs-sep: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="%23000000"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M16.01 11H4v2h12.01v3L20 12l-3.99-4v3z"/></svg>');
	}

	// WP next icon
	&.has-sep-icon-chevron-double {
		--breadcrumbs-sep: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" focusable="false"><path d="M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"></path></svg>');
	}

	// https://fonts.google.com/icons?icon.query=arrow&selected=Material+Symbols+Outlined:arrow_right:FILL@0;wght@400;GRAD@0;opsz@48
	&.has-sep-icon-triangle {
		--breadcrumbs-sep: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="%23000000"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10 17l5-5-5-5v10z"/></svg>');
	}

	&.has-sep-vertical-bar {
		--breadcrumbs-sep: "\007C"
	}

	&.has-sep-middot {
		--breadcrumbs-sep: "\00B7";
	}

	&.has-sep-black-circle {
		--breadcrumbs-sep: "\25cf";
	}

	&.has-sep-white-circle {
		--breadcrumbs-sep: "\25cb";
	}

	&.has-sep-black-square {
		--breadcrumbs-sep: "\25a0";
	}

	&.has-sep-white-square {
		--breadcrumbs-sep: "\25a1";
	}
}

// Items justification.
.items-justified-right > .wp-block-x3p0-breadcrumbs__trail  { justify-content: flex-end; }
.items-justified-left > .wp-block-x3p0-breadcrumbs__trail   { justify-content: flex-start; }
.items-justified-center > .wp-block-x3p0-breadcrumbs__trail { justify-content: center; }

// Flip icons for RTL.
:where( [dir=rtl], .rtl ) .wp-block-x3p0-breadcrumbs__crumb:where( :not( :first-child ) )::before {
	transform: scaleX(-1);
}
